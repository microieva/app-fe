<mat-sidenav-container>
    <mat-sidenav 
        #sidenav 
        [opened]="isDesktop || showSidenav" 
        class="sidenav" 
        [mode]="!isDesktop ? 'over' : 'side'"
    >    
        <mat-nav-list>
            <a [routerLinkActiveOptions]="{ exact: true }" mat-list-item [routerLink]="['/home']" *ngIf="!isDesktop" routerLinkActive="activeLink" (click)="$event.stopPropagation(); onClickNavLink();">
                <div class="flex">
                    <span class="icon--main material-symbols-outlined" matTooltip="Home">home</span>
                    <h5 class="color--main--secondary">{{ 'Home' }}</h5>
                </div>
            </a>
            <a [routerLinkActiveOptions]="{ exact: false }" mat-list-item [routerLink]="['/home', 'user']" routerLinkActive="activeLink" (click)="$event.stopPropagation(); onClickNavLink();">
                <div class="flex">
                    <span class="icon--main material-symbols-outlined" matTooltip="My Account">account_box</span>
                    <h5 class="color--main--secondary">{{ 'My Account' }}</h5>
                </div>
            </a>
            <a mat-list-item (click)="onClickNavLink(); $event.stopPropagation();" [routerLink]="['/home','appointments']" *ngIf="userRole !== 'admin' && isUserUpdated" routerLinkActive="activeLink">
                <div class="flex" >
                    <span class="icon--main material-symbols-outlined" matTooltip="Appointments">calendar_clock</span>
                    <h5 class="color--main--secondary">{{ 'Appointments' }}</h5>
                </div>
            </a>
            <a mat-list-item (click)="onClickNavLink(); $event.stopPropagation();" [routerLink]="['/home','records']" *ngIf="isUserUpdated && userRole !== 'admin'" routerLinkActive="activeLink">
                <div class="flex">
                    <span class="icon--main material-symbols-outlined" matTooltip="Medical Records">list_alt</span>
                    <h5 class="color--main--secondary">{{ 'Medical Records' }}</h5>
                </div>
            </a>
            <a mat-list-item [routerLink]="['/home','patients']" (click)="onClickNavLink(); $event.stopPropagation();" *ngIf="userRole === 'admin'" routerLinkActive="activeLink">
                <div class="flex">
                    <span class="icon--main material-symbols-outlined" matTooltip="Patients">patient_list</span> 
                    <h5 class="color--main--secondary">{{ 'Patients' }}</h5>
                </div>
            </a>
            <a mat-list-item [routerLink]="['/home','users']" (click)="onClickNavLink(); $event.stopPropagation();" *ngIf="userRole === 'admin'" routerLinkActive="activeLink">
                <div class="flex" >
                    <span class="icon--main material-symbols-outlined" matTooltip="Doctors">recent_actors</span> 
                    <h5 class="color--main--secondary">{{ 'Doctors' }}</h5>
                </div>
            </a>
            <a mat-list-item [routerLink]="['/home','messages']" (click)="onClickNavLink(); $event.stopPropagation();" routerLinkActive="activeLink"  *ngIf="userRole !== 'patient' && isUserUpdated">
                <div class="flex">
                    <span class="icon--main material-symbols-outlined" matTooltip="Messages">forum</span> 
                    <h5 class="color--main--secondary">{{ 'Messages' }}</h5>
                </div>
            </a>
            <a mat-list-item [routerLink]="['/home','feedback']" (click)="onClickNavLink(); $event.stopPropagation();" routerLinkActive="activeLink"  *ngIf="userRole === 'admin'">
                <div class="flex"  id="feedback">
                    <span class="icon--main material-symbols-outlined" matTooltip="Feedback">feedback</span> 
                    <h5 class="color--main--secondary">{{ 'Feedback' }}</h5>
                </div>
            </a>
        </mat-nav-list>
        <div class="resize-handle" #resize></div>
    </mat-sidenav>
    
    <mat-sidenav-content  #sidenavContent class="content flex-column" [ngClass]="isHomeRoute ? 'bg--gray--cold--secondary': 'bg--white--cold'">  
        <div class="page"  *ngIf="isHomeRoute && !isUserUpdated && !isLoading">
            <div class="block--bordered--with-btn" >
                <div class="flex-column" style="width: 60%; padding-inline:1rem;">
                    <h2 class="title color--gray--cold--primary">Welcome!</h2>
                    <h4 class="title" style="font-size: 2rem;">Complete setting up your account</h4>
                    <p><em>Please fill out your contact details to use Health Center services. By adding the information you agree to our Terms of Service and allow us handling your personal details. We guarantee no third parties have access to the details you provide. All personal information is saved only in our internal database. Requested contact details will be used for emergency contacting and billing.</em></p>
                </div>
                <button class="button--create" mat-stroked-button><p><a [routerLink]="['/home','user']">{{'Update Information'}}</a></p></button>
            </div>
        </div>
        
        
        <div class="page" *ngIf="isHomeRoute && !isLoading && isUserUpdated">
            <span *ngIf="showIcon" class="material-symbols-outlined" id="bg-icon" style="top:34%;">
                calendar_clock
            </span>
            <app-dashboard [me]="me" *ngIf="me" (isNextAppointment)="displayIcon($event)"></app-dashboard>
        </div> 
        <div *ngIf="!isHomeRoute" >
            <router-outlet></router-outlet>
        </div>
    </mat-sidenav-content>
    <router-outlet></router-outlet>
</mat-sidenav-container>

